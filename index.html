<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <style>
        body { margin: 0; font-family: Arial, sans-serif; }
        .container { display: flex; height: 100vh; }
        .sidebar { width: 200px; background: #2c3e50; color: white; display: flex; flex-direction: column; }
        .sidebar a { padding: 10px; color: white; text-decoration: none; display: flex; align-items: center; }
        .sidebar a:hover { background: #34495e; }
        .sidebar a span { margin-left: 5px; }
        .workspace { flex: 1; display: flex; flex-direction: column; }
        .topbar { background: #ecf0f1; padding: 10px; display: flex; align-items: center; }
        .topbar input[type="search"] { flex: 1; margin-right: 10px; }
        .sections { flex: 1; overflow-y: auto; padding: 10px; }
        section { margin-bottom: 20px; }
        .card { border: 1px solid #ccc; padding: 10px; margin: 5px; display: inline-block; vertical-align: top; width: 150px; }
        .timeline { display: flex; overflow-x: auto; }
        .timeline .item { border: 1px solid #ccc; padding: 10px; margin-right: 10px; }
        .mosaic { display: flex; flex-wrap: wrap; }
        .mosaic .texture { margin: 5px; text-align: center; width: 80px; height: 80px; background-size: cover; border: 1px solid #ccc; cursor: pointer; }
        table { width: 100%; border-collapse: collapse; }
        th, td { border: 1px solid #ccc; padding: 5px; text-align: left; }
        .log { background: #f1f1f1; padding: 5px; height: 150px; overflow-y: auto; }
    </style>
</head>
<body>
<div class="container">
    <div class="sidebar">
        <a href="#models">üè†<span>Models</span></a>
        <a href="#versions">üïí<span>Versions</span></a>
        <a href="#textures">üñºÔ∏è<span>Textures</span></a>
        <a href="#parameters">‚öôÔ∏è<span>Parameters</span></a>
        <a href="#sync">üîÑ<span>Sync</span></a>
    </div>
    <div class="workspace">
        <div class="topbar">
            <input type="search" placeholder="Quick search">
            <button id="buildBtn">Build &amp; Push</button>
            <span id="notify">üîî</span>
        </div>
        <div class="sections">
            <section id="models">
                <h2>Models</h2>
                <div class="cards" id="modelList">
                    <!-- Model cards here -->
                </div>
                <input type="file" id="modelFile" accept=".fbx,.obj" style="display:none">
                <button id="addModel">Add Model</button>
            </section>
            <section id="versions">
                <h2>Versions</h2>
                <div class="timeline">
                    <div class="item">Version 1</div>
                </div>
                <button id="saveVersion">Save Version</button>
                <input type="text" placeholder="Add tag">
            </section>
            <section id="textures">
                <h2>Textures</h2>
                <div class="mosaic" id="textureList">
                    <!-- texture previews -->
                </div>
                <div class="texture-controls">
                    <label>Tiling <input id="tiling" type="range" min="1" max="10" value="1"></label>
                    <label>Offset <input id="offset" type="range" min="0" max="1" step="0.1" value="0"></label>
                </div>
            </section>
            <section id="parameters">
                <h2>Parameters</h2>
                <table>
                    <thead>
                        <tr><th>Name</th><th>Type</th><th>Default</th><th>Constraints</th></tr>
                    </thead>
                    <tbody id="paramBody">
                        <tr><td>Param</td><td>float</td><td>0</td><td>0-1</td></tr>
                    </tbody>
                </table>
                <button id="addParam">Add Parameter</button>
            </section>
            <section id="sync">
                <h2>Sync / Export</h2>
                <button id="buildBundle">Build AssetBundle</button>
                <button id="exportJson">Export JSON</button>
                <div class="log" id="log"></div>
            </section>
        </div>
    </div>
</div>
<script>

function log(message) {
    const logArea = document.getElementById('log');
    logArea.textContent += message + '\n';
}

// sidebar navigation
const sections = document.querySelectorAll('.sections > section');
document.querySelectorAll('.sidebar a').forEach(link => {
    link.addEventListener('click', e => {
        e.preventDefault();
        const target = document.querySelector(link.getAttribute('href'));
        sections.forEach(s => s.style.display = s === target ? 'block' : 'none');
    });
});
// start with first section visible
sections.forEach((s,i)=>{ if(i) s.style.display='none'; });

// add model
const modelInput = document.getElementById('modelFile');
document.getElementById('addModel').addEventListener('click', () => modelInput.click());
modelInput.addEventListener('change', e => {
    const file = e.target.files[0];
    if (!file) return;
    const card = document.createElement('div');
    card.className = 'card';
    const url = URL.createObjectURL(file);
    card.innerHTML = `<img src="${url}" style="width:100%"><br>${file.name}`;
    document.getElementById('modelList').appendChild(card);
    log(`Model added: ${file.name}`);
});

// save version with tag
document.getElementById('saveVersion').addEventListener('click', () => {
    const input = document.querySelector('#versions input[type="text"]');
    const tag = input.value || 'untagged';
    const item = document.createElement('div');
    item.className = 'item';
    item.textContent = `${new Date().toLocaleString()} - ${tag}`;
    document.querySelector('.timeline').appendChild(item);
    input.value = '';
    log('Version saved');
});

// parameter row add
document.getElementById('addParam').addEventListener('click', () => {
    const row = document.createElement('tr');
    row.innerHTML = `
        <td><input></td>
        <td><select><option>float</option><option>color</option><option>bool</option></select></td>
        <td><input></td>
        <td><input></td>`;
    document.getElementById('paramBody').appendChild(row);
});

// sample textures
const textures = [
    {name:'Diffuse', url:'https://via.placeholder.com/80'},
    {name:'Normal', url:'https://via.placeholder.com/80?text=N'},
    {name:'PBR', url:'https://via.placeholder.com/80?text=P'}
];
const textureList = document.getElementById('textureList');
let currentTexture = null;
textures.forEach(tex => {
    const div = document.createElement('div');
    div.className = 'texture';
    div.dataset.url = tex.url;
    div.style.backgroundImage = `url(${tex.url})`;
    div.title = tex.name;
    textureList.appendChild(div);
    if(!currentTexture){ currentTexture = div; }
});

function updateTexturePreview(){
    if(!currentTexture) return;
    const tiling = document.getElementById('tiling').value;
    const offset = document.getElementById('offset').value;
    currentTexture.style.backgroundSize = `${tiling * 100}%`;
    currentTexture.style.backgroundPosition = `${offset * 100}% ${offset * 100}%`;
}

textureList.addEventListener('click', e => {
    if(e.target.classList.contains('texture')){
        currentTexture = e.target;
        updateTexturePreview();
    }
});

document.getElementById('tiling').addEventListener('input', updateTexturePreview);
document.getElementById('offset').addEventListener('input', updateTexturePreview);

// simple build/export handlers
document.getElementById('buildBtn').addEventListener('click', () => log('Build triggered...'));
document.getElementById('buildBundle').addEventListener('click', () => log('Building AssetBundle...'));
document.getElementById('exportJson').addEventListener('click', () => log('Exporting JSON...'));
</script>
</body>
</html>
